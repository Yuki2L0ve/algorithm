# LC394. 字符串解码
[传送门](https://leetcode.cn/problems/decode-string/description/?envType=study-plan-v2&envId=top-100-liked)
```java
class Solution {
    class Pair<K, V> {
        private final K key;
        private final V value;

        public Pair(K key, V value) {
            this.key = key;
            this.value = value;
        }

        public K getKey() {
            return key;
        }

        public V getValue() {
            return value;
        }
    }

    public String decodeString(String s) {
        Deque<Pair<Integer, String>> stk = new LinkedList<>();
        StringBuilder ans = new StringBuilder();
        int x = 0;

        for (char c : s.toCharArray()) {
            if (c >= 'a' && c <= 'z') {
                ans.append(c);
            } else if (Character.isDigit(c)) {
                x = x * 10 + c - '0';
            } else if (c == '[') {
                stk.push(new Pair<>(x, ans.toString()));
                x = 0;
                ans = new StringBuilder();
            } else if (c == ']') {
                int n = stk.peek().getKey();
                String tmp = stk.peek().getValue();
                stk.pop();
                for (int i = 0; i < n; ++ i) {
                    tmp += ans.toString();
                }
                ans = new StringBuilder(tmp);
            }
        }

        return ans.toString();
    }
}
```
